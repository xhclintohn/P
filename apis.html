<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Toxic-APIs - Free RESTful API Service</title>
  <meta name="description" content="Toxic-APIs: 49 free REST API endpoints for AI chat, media downloaders, anime scrapers, gaming tools, sports scores, search utilities, and more. No API key required.">
  <meta property="og:title" content="Toxic-APIs - Free RESTful API Service">
  <meta property="og:description" content="49 free REST API endpoints: AI, Downloaders, Anime, Gaming, Search, Tools, Sports. No API key required.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://xhclinton.com/apis">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    :root{
      --bg:#0a0a0f;--bg2:#111118;--bg3:#1a1a26;--bg4:#16213e;
      --text:#e8e8ec;--text2:#a1a1aa;--text3:#71717a;
      --border:rgba(255,255,255,.08);--border2:rgba(255,255,255,.12);--border3:rgba(255,255,255,.18);
      --primary:#6366f1;--primary2:#818cf8;--primary3:#4f46e5;--primary-glow:rgba(99,102,241,.25);
      --accent:#06b6d4;--accent2:#22d3ee;
      --green:#22c55e;--red:#ef4444;--yellow:#eab308;--orange:#f97316;
      --pink:#ec4899;--purple:#a855f7;
      --card:rgba(17,17,24,.8);--card-hover:rgba(26,26,38,.9);
      --glass:rgba(17,17,24,.6);
      --radius:14px;--radius-sm:10px;
    }
    html{scroll-behavior:smooth;-webkit-tap-highlight-color:transparent}
    body{font-family:'Inter',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden;-webkit-font-smoothing:antialiased}
    code,pre,.mono{font-family:'JetBrains Mono',monospace}
    a{text-decoration:none;color:inherit}
    img{max-width:100%}
    button{font-family:inherit}
    .container{max-width:1140px;margin:0 auto;padding:0 20px}
    @media(min-width:768px){.container{padding:0 32px}}

    /* LOADING SCREEN */
    #loadingScreen{position:fixed;inset:0;z-index:10000;background:var(--bg);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity .8s cubic-bezier(.4,0,.2,1),visibility .8s}
    #loadingScreen.hidden{opacity:0;visibility:hidden;pointer-events:none}
    .loader-logo{width:80px;height:80px;border-radius:20px;background:linear-gradient(135deg,var(--primary),var(--accent));display:flex;align-items:center;justify-content:center;font-size:36px;font-weight:900;color:#fff;margin-bottom:28px;animation:loaderPulse 1.5s ease-in-out infinite;box-shadow:0 0 60px var(--primary-glow)}
    @keyframes loaderPulse{0%,100%{transform:scale(1);box-shadow:0 0 40px var(--primary-glow)}50%{transform:scale(1.08);box-shadow:0 0 80px var(--primary-glow)}}
    .loader-text{font-size:22px;font-weight:800;letter-spacing:2px;margin-bottom:8px;background:linear-gradient(135deg,var(--primary2),var(--accent2),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .loader-terminal{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--green);margin-bottom:24px;height:18px;text-align:center;opacity:.9}
    .loader-progress-wrap{width:260px;position:relative;margin-bottom:8px}
    .loader-bar{width:100%;height:4px;background:var(--bg3);border-radius:4px;overflow:hidden}
    .loader-bar-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--primary),var(--accent2));border-radius:4px;transition:width .3s ease}
    .loader-percent{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--text3);text-align:center;margin-top:6px}

    /* NOTIFICATIONS */
    #notifContainer{position:fixed;top:80px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:10px;pointer-events:none;max-width:380px;width:calc(100% - 40px)}
    .notif{pointer-events:all;background:var(--glass);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1px solid var(--border2);border-radius:var(--radius-sm);padding:14px 18px;display:flex;align-items:flex-start;gap:12px;animation:notifIn .4s cubic-bezier(.16,1,.3,1) forwards;box-shadow:0 8px 32px rgba(0,0,0,.4);position:relative}
    .notif.removing{animation:notifOut .3s ease forwards}
    .notif-icon{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:16px}
    .notif-icon.success{background:rgba(34,197,94,.15);color:var(--green)}
    .notif-icon.info{background:rgba(99,102,241,.15);color:var(--primary2)}
    .notif-icon.warning{background:rgba(234,179,8,.15);color:var(--yellow)}
    .notif-icon.error{background:rgba(239,68,68,.15);color:var(--red)}
    .notif-body{flex:1;min-width:0}
    .notif-title{font-size:13px;font-weight:700;margin-bottom:2px}
    .notif-msg{font-size:12px;color:var(--text2);line-height:1.5}
    .notif-close{background:none;border:none;color:var(--text3);cursor:pointer;padding:4px;font-size:16px;line-height:1;flex-shrink:0;transition:color .2s}
    .notif-close:hover{color:var(--text)}
    .notif-progress{position:absolute;bottom:0;left:0;height:2px;background:var(--primary);border-radius:0 0 var(--radius-sm) var(--radius-sm);animation:notifProgress 4s linear forwards}
    @keyframes notifIn{from{opacity:0;transform:translateX(100%) scale(.9)}to{opacity:1;transform:translateX(0) scale(1)}}
    @keyframes notifOut{to{opacity:0;transform:translateX(100%) scale(.9)}}
    @keyframes notifProgress{from{width:100%}to{width:0%}}

    /* TOP BAR */
    .top-bar{position:fixed;top:0;left:0;right:0;z-index:1001;background:rgba(10,10,15,.85);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--border);height:48px;display:flex;align-items:center;transition:all .3s}
    .top-bar-inner{display:flex;align-items:center;justify-content:space-between;width:100%;max-width:1140px;margin:0 auto;padding:0 20px;gap:8px}
    @media(min-width:768px){.top-bar-inner{padding:0 32px}}
    .top-bar-left{display:flex;align-items:center;gap:12px}
    .top-bar-logo{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:800;flex-shrink:0}
    .top-bar-logo .logo-icon{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,var(--primary),var(--accent));display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:900;color:#fff}
    .top-bar-stats{display:flex;align-items:center;gap:10px;flex-wrap:nowrap;overflow-x:auto}
    .top-bar-stat{display:flex;align-items:center;gap:5px;font-size:12px;color:var(--text2);white-space:nowrap;padding:4px 10px;background:rgba(255,255,255,.04);border-radius:6px;border:1px solid var(--border)}
    .top-bar-stat .stat-icon{display:flex;align-items:center;color:var(--text3)}
    .top-bar-stat .stat-val{font-weight:700;font-family:'JetBrains Mono',monospace;font-size:11px}
    .top-bar-stat .stat-val.green{color:var(--green)}
    .top-bar-stat .stat-val.primary{color:var(--primary2)}
    .top-bar-stat .stat-val.accent{color:var(--accent2)}
    .top-bar-stat .stat-val.yellow{color:var(--yellow)}
    .top-bar-right{display:flex;align-items:center;gap:8px;flex-shrink:0}
    .top-bar-btn{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:8px;font-size:12px;font-weight:600;border:none;cursor:pointer;transition:all .25s;white-space:nowrap}
    .top-bar-btn.primary{background:linear-gradient(135deg,var(--primary),var(--primary3));color:#fff;box-shadow:0 2px 10px var(--primary-glow)}
    .top-bar-btn.primary:hover{box-shadow:0 4px 20px var(--primary-glow);transform:translateY(-1px)}
    .top-bar-btn.outline{background:transparent;border:1px solid var(--border2);color:var(--text2)}
    .top-bar-btn.outline:hover{border-color:var(--primary);color:var(--primary2)}
    @media(max-width:640px){
      .top-bar-stats{display:none}
      .top-bar-btn span{display:none}
    }
    @media(max-width:480px){
      .top-bar-btn.outline{display:none}
    }

    /* FLOATING CATEGORY NAV */
    .cat-nav{position:fixed;top:48px;left:0;right:0;z-index:1000;background:rgba(10,10,15,.92);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--border);transform:translateY(-100%);opacity:0;transition:all .35s cubic-bezier(.16,1,.3,1);pointer-events:none}
    .cat-nav.visible{transform:translateY(0);opacity:1;pointer-events:all}
    .cat-nav-inner{display:flex;align-items:center;gap:4px;max-width:1140px;margin:0 auto;padding:6px 20px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none}
    .cat-nav-inner::-webkit-scrollbar{display:none}
    @media(min-width:768px){.cat-nav-inner{padding:6px 32px}}
    .cat-nav-item{display:flex;align-items:center;gap:5px;padding:6px 14px;border-radius:8px;font-size:12px;font-weight:600;color:var(--text2);cursor:pointer;transition:all .2s;white-space:nowrap;border:1px solid transparent;flex-shrink:0}
    .cat-nav-item:hover{color:var(--text);background:rgba(255,255,255,.05)}
    .cat-nav-item.active{color:#fff;background:var(--primary);border-color:var(--primary);box-shadow:0 2px 10px var(--primary-glow)}
    .cat-nav-item .cat-count{font-size:10px;background:rgba(255,255,255,.15);padding:1px 6px;border-radius:100px;font-weight:700}

    /* HERO */
    .hero{position:relative;min-height:100vh;min-height:100svh;display:flex;align-items:center;justify-content:center;overflow:hidden;padding:60px 0 40px}
    .hero::before{content:'';position:absolute;inset:0;background:
      radial-gradient(ellipse 800px 600px at 20% 40%,rgba(99,102,241,.12),transparent),
      radial-gradient(ellipse 600px 500px at 80% 20%,rgba(6,182,212,.08),transparent),
      radial-gradient(ellipse 500px 400px at 60% 80%,rgba(168,85,247,.06),transparent);
      animation:heroBgPulse 10s ease-in-out infinite alternate}
    @keyframes heroBgPulse{0%{opacity:.5}100%{opacity:1}}
    .hero::after{content:'';position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 1px,rgba(255,255,255,.01) 1px,rgba(255,255,255,.01) 2px);pointer-events:none}
    .hero-content{text-align:center;position:relative;z-index:2;max-width:800px;padding:20px}
    .hero-badge{display:inline-flex;align-items:center;gap:8px;background:rgba(99,102,241,.1);border:1px solid rgba(99,102,241,.2);border-radius:100px;padding:8px 22px;font-size:13px;font-weight:600;color:var(--primary2);margin-bottom:28px;animation:fadeUp .6s ease;backdrop-filter:blur(12px)}
    .hero-badge .dot{width:8px;height:8px;border-radius:50%;background:var(--green);box-shadow:0 0 8px rgba(34,197,94,.6);animation:pulse 2s infinite}
    @keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.7)}}
    .hero-badge .sparkle{animation:sparkleAnim 2s ease-in-out infinite}
    @keyframes sparkleAnim{0%,100%{opacity:1;transform:rotate(0deg) scale(1)}50%{opacity:.6;transform:rotate(180deg) scale(.8)}}
    .hero h1{font-size:clamp(2.8rem,7vw,5rem);font-weight:900;line-height:1.08;margin-bottom:24px;animation:fadeUp .6s ease .1s both;letter-spacing:-1px}
    .gradient-text{background:linear-gradient(135deg,var(--primary2),var(--accent2),var(--pink),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;background-size:300% auto;animation:gradientShift 4s linear infinite}
    @keyframes gradientShift{0%{background-position:0% center}100%{background-position:300% center}}
    .hero p{font-size:clamp(1rem,2.2vw,1.2rem);color:var(--text2);max-width:560px;margin:0 auto 36px;animation:fadeUp .6s ease .2s both;line-height:1.7}
    .hero p strong{color:var(--primary2);font-weight:600}
    .hero-stats{display:flex;gap:28px;justify-content:center;flex-wrap:wrap;margin-bottom:40px;animation:fadeUp .6s ease .3s both}
    .stat{text-align:center;position:relative}
    .stat-num{font-size:2.2rem;font-weight:900;background:linear-gradient(135deg,var(--primary2),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .stat-label{font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:2px;font-weight:600}
    .stat+.stat::before{content:'';position:absolute;left:-14px;top:50%;transform:translateY(-50%);width:1px;height:30px;background:var(--border2)}
    .hero-btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;animation:fadeUp .6s ease .4s both}

    /* Buttons */
    .btn{display:inline-flex;align-items:center;gap:8px;padding:12px 28px;border-radius:var(--radius-sm);font-size:15px;font-weight:600;border:none;cursor:pointer;transition:all .3s cubic-bezier(.16,1,.3,1);position:relative;overflow:hidden}
    .btn::after{content:'';position:absolute;inset:0;opacity:0;transition:opacity .3s;background:linear-gradient(135deg,rgba(255,255,255,.1),transparent)}
    .btn:hover::after{opacity:1}
    .btn-primary{background:linear-gradient(135deg,var(--primary),var(--primary3));color:#fff;box-shadow:0 4px 20px var(--primary-glow)}
    .btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 40px var(--primary-glow)}
    .btn-primary:active{transform:translateY(0)}
    .btn-outline{background:transparent;border:1px solid var(--border2);color:var(--text);backdrop-filter:blur(8px)}
    .btn-outline:hover{border-color:var(--primary);color:var(--primary2);transform:translateY(-2px);box-shadow:0 4px 20px rgba(99,102,241,.1)}
    .btn-sm{padding:8px 16px;font-size:13px;border-radius:8px}
    .btn-xs{padding:6px 12px;font-size:12px;border-radius:6px}

    @keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes scaleIn{from{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}

    /* Particles */
    .particles{position:absolute;inset:0;pointer-events:none;overflow:hidden}
    .particle{position:absolute;border-radius:50%;opacity:0;animation:floatUp linear infinite}
    @keyframes floatUp{0%{transform:translateY(100vh) rotate(0deg) scale(0);opacity:0}15%{opacity:.4;transform:scale(1)}85%{opacity:.4}100%{transform:translateY(-10vh) rotate(720deg) scale(0);opacity:0}}
    .glow-orb{position:absolute;border-radius:50%;filter:blur(120px);pointer-events:none;animation:orbFloat 12s ease-in-out infinite alternate}
    @keyframes orbFloat{0%{transform:translate(0,0)}50%{transform:translate(30px,-40px)}100%{transform:translate(-20px,20px)}}

    /* SECTIONS */
    section{padding:80px 0;position:relative}
    @media(min-width:768px){section{padding:100px 0}}
    .section-header{text-align:center;margin-bottom:48px}
    .section-badge{display:inline-flex;align-items:center;gap:6px;background:rgba(99,102,241,.1);border:1px solid rgba(99,102,241,.15);border-radius:100px;padding:6px 16px;font-size:12px;font-weight:600;color:var(--primary2);margin-bottom:16px;text-transform:uppercase;letter-spacing:1px}
    .section-header h2{font-size:clamp(1.8rem,4vw,2.8rem);font-weight:800;margin-bottom:12px;letter-spacing:-.5px}
    .section-header p{color:var(--text2);font-size:1rem;max-width:480px;margin:0 auto}

    /* FEATURES */
    .features-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}
    @media(max-width:640px){.features-grid{grid-template-columns:1fr}}
    .feature-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:28px;transition:all .4s cubic-bezier(.16,1,.3,1);position:relative;overflow:hidden}
    .feature-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--primary-glow),transparent);opacity:0;transition:opacity .4s}
    .feature-card:hover{border-color:var(--border2);transform:translateY(-4px);box-shadow:0 16px 48px rgba(0,0,0,.2)}
    .feature-card:hover::before{opacity:1}
    .feature-icon{width:50px;height:50px;border-radius:14px;display:flex;align-items:center;justify-content:center;margin-bottom:18px}
    .feature-card h3{font-size:16px;font-weight:700;margin-bottom:8px}
    .feature-card p{font-size:14px;color:var(--text2);line-height:1.7}

    /* DOCS */
    .search-bar{position:relative;margin-bottom:24px}
    .search-bar input{width:100%;background:var(--card);border:1px solid var(--border);border-radius:var(--radius-sm);padding:14px 14px 14px 48px;color:var(--text);font-size:15px;outline:none;transition:all .3s}
    .search-bar input:focus{border-color:var(--primary);box-shadow:0 0 0 3px var(--primary-glow)}
    .search-bar input::placeholder{color:var(--text3)}
    .search-bar .search-icon{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:var(--text3);pointer-events:none}
    .cat-tabs{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:32px}
    .cat-tab{padding:8px 18px;border-radius:100px;border:1px solid var(--border);background:var(--bg2);font-size:13px;font-weight:600;color:var(--text2);cursor:pointer;transition:all .25s;display:flex;align-items:center;gap:6px;white-space:nowrap}
    .cat-tab:hover{border-color:var(--border2);color:var(--text);background:var(--bg3)}
    .cat-tab.active{background:var(--primary);border-color:var(--primary);color:#fff;box-shadow:0 4px 16px var(--primary-glow)}
    .cat-tab .count{font-size:11px;background:rgba(255,255,255,.15);padding:2px 7px;border-radius:100px}
    .endpoints-grid{display:grid;gap:12px}
    .endpoint-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;transition:all .35s cubic-bezier(.16,1,.3,1)}
    .endpoint-card:hover{border-color:var(--border2)}
    .endpoint-card.open{border-color:var(--border3);box-shadow:0 8px 32px rgba(0,0,0,.2)}
    .endpoint-header{display:flex;align-items:center;justify-content:space-between;padding:18px 20px;cursor:pointer;gap:12px;transition:background .2s}
    .endpoint-header:hover{background:rgba(255,255,255,.02)}
    .endpoint-left{display:flex;align-items:center;gap:14px;flex:1;min-width:0}
    .method-badge{padding:4px 10px;border-radius:6px;font-size:11px;font-weight:700;font-family:'JetBrains Mono',monospace;letter-spacing:.5px;flex-shrink:0;text-transform:uppercase}
    .method-GET{background:rgba(34,197,94,.12);color:var(--green);border:1px solid rgba(34,197,94,.15)}
    .method-POST{background:rgba(249,115,22,.12);color:var(--orange);border:1px solid rgba(249,115,22,.15)}
    .endpoint-info{min-width:0}
    .endpoint-info h3{font-size:15px;font-weight:600;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .endpoint-info p{font-size:13px;color:var(--text3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:400px}
    .endpoint-status{display:flex;align-items:center;gap:8px;flex-shrink:0}
    .endpoint-status .status-dot{width:6px;height:6px;border-radius:50%;background:var(--text3)}
    .endpoint-status .status-dot.online{background:var(--green);box-shadow:0 0 6px rgba(34,197,94,.5)}
    .endpoint-status .status-dot.offline{background:var(--red)}
    .expand-icon{color:var(--text3);transition:transform .4s cubic-bezier(.16,1,.3,1);flex-shrink:0}
    .endpoint-card.open .expand-icon{transform:rotate(180deg)}
    .endpoint-body{max-height:0;overflow:hidden;transition:max-height .4s cubic-bezier(.16,1,.3,1)}
    .endpoint-card.open .endpoint-body{max-height:2000px}
    .endpoint-body-inner{padding:0 20px 20px;border-top:1px solid var(--border)}
    .try-section{margin-top:16px}
    .try-section label{display:block;font-size:12px;font-weight:700;margin-bottom:8px;color:var(--text2);text-transform:uppercase;letter-spacing:1px}
    .try-row{display:flex;gap:8px;flex-wrap:wrap}
    .try-input{flex:1;min-width:120px;background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:11px 14px;color:var(--text);font-size:14px;outline:none;transition:all .3s}
    .try-input:focus{border-color:var(--primary);box-shadow:0 0 0 3px var(--primary-glow)}
    .try-input::placeholder{color:var(--text3)}
    .try-btn{background:linear-gradient(135deg,var(--primary),var(--primary3));color:#fff;border:none;padding:11px 22px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s;white-space:nowrap;box-shadow:0 2px 12px var(--primary-glow)}
    .try-btn:hover{box-shadow:0 4px 24px var(--primary-glow);transform:translateY(-1px)}
    .try-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}
    .try-actions{display:flex;gap:6px;margin-top:12px;flex-wrap:wrap}
    .post-notice{background:rgba(249,115,22,.08);border:1px solid rgba(249,115,22,.2);border-radius:8px;padding:12px 16px;margin-top:12px;font-size:13px;color:var(--orange);display:flex;align-items:center;gap:8px}
    .response-area{margin-top:16px;background:var(--bg);border:1px solid var(--border);border-radius:var(--radius-sm);overflow:hidden;animation:scaleIn .3s ease}
    .response-header{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:var(--bg2);border-bottom:1px solid var(--border);gap:8px;flex-wrap:wrap}
    .response-status{font-size:13px;font-weight:600;display:flex;align-items:center;gap:8px}
    .response-status .dot{width:8px;height:8px;border-radius:50%}
    .response-status .dot.success{background:var(--green);box-shadow:0 0 6px rgba(34,197,94,.5)}
    .response-status .dot.error{background:var(--red);box-shadow:0 0 6px rgba(239,68,68,.5)}
    .response-status .dot.loading{background:var(--yellow);animation:pulse 1s infinite}
    .response-body{padding:16px;max-height:400px;overflow:auto}
    .response-body pre{white-space:pre-wrap;word-break:break-all;font-size:13px;line-height:1.6;color:var(--text2)}
    .response-body img{max-width:100%;border-radius:8px;margin-top:8px}
    .hidden{display:none!important}

    /* Copy button */
    .copy-btn{background:var(--bg3);border:1px solid var(--border);color:var(--text2);padding:6px 14px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;transition:all .25s;white-space:nowrap;display:inline-flex;align-items:center;gap:4px}
    .copy-btn:hover{background:var(--primary);color:#fff;border-color:var(--primary)}
    .copy-btn.copied{background:var(--green);border-color:var(--green);color:#fff}

    /* Code examples */
    .code-tabs{display:flex;gap:2px;margin:16px 0 0}
    .code-tab{padding:8px 16px;border-radius:8px 8px 0 0;font-size:12px;font-weight:600;cursor:pointer;background:var(--bg);color:var(--text3);border:1px solid var(--border);border-bottom:none;transition:all .2s}
    .code-tab:hover{color:var(--text)}
    .code-tab.active{background:var(--bg2);color:var(--primary2);border-color:var(--border2)}
    .code-block{background:var(--bg2);border:1px solid var(--border);border-radius:0 8px 8px 8px;padding:16px;position:relative;overflow-x:auto}
    .code-block code{font-size:13px;line-height:1.8;color:var(--text2);display:block;white-space:pre}
    .code-copy{position:absolute;top:10px;right:10px}
    .base-url-bar{background:var(--card);border:1px solid var(--border);border-radius:var(--radius-sm);padding:14px 20px;margin-bottom:24px;display:flex;align-items:center;gap:12px;flex-wrap:wrap;backdrop-filter:blur(12px)}
    .base-url-bar label{font-size:12px;font-weight:700;color:var(--text3);white-space:nowrap;text-transform:uppercase;letter-spacing:1px}
    .base-url-bar code{font-size:14px;color:var(--accent2);word-break:break-all;flex:1}
    .quickstart{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:24px;margin-top:32px}
    .quickstart h3{font-size:15px;font-weight:700;margin-bottom:16px;display:flex;align-items:center;gap:8px}

    /* STATUS */
    .status-overview{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-bottom:32px}
    .status-stat{text-align:center;padding:20px 12px;background:var(--card);border:1px solid var(--border);border-radius:var(--radius-sm)}
    .status-stat .num{font-size:1.8rem;font-weight:800;margin-bottom:2px}
    .status-stat .label{font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:1px}
    .status-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:12px}
    @media(max-width:640px){.status-grid{grid-template-columns:1fr}}
    .status-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius-sm);padding:16px 20px;display:flex;align-items:center;gap:14px;transition:all .3s}
    .status-card:hover{border-color:var(--border2);background:var(--card-hover)}
    .status-dot-lg{width:10px;height:10px;border-radius:50%;flex-shrink:0;transition:all .3s}
    .status-dot-lg.online{background:var(--green);box-shadow:0 0 10px rgba(34,197,94,.5);animation:pulse 2s infinite}
    .status-dot-lg.offline{background:var(--red);box-shadow:0 0 10px rgba(239,68,68,.5)}
    .status-dot-lg.checking{background:var(--yellow);animation:pulse 1s infinite}
    .status-info{flex:1;min-width:0}
    .status-info h4{font-size:14px;font-weight:600;margin-bottom:1px}
    .status-info p{font-size:12px;color:var(--text3)}
    .status-ms{font-size:13px;font-weight:600;color:var(--text3);font-family:'JetBrains Mono',monospace;flex-shrink:0}

    /* FOOTER */
    footer{border-top:1px solid var(--border);padding:40px 0}
    .footer-inner{display:flex;flex-direction:column;align-items:center;gap:16px;text-align:center}
    .footer-logo{display:flex;align-items:center;gap:10px;font-size:18px;font-weight:800}
    .footer-logo .logo-icon{width:30px;height:30px;border-radius:8px;background:linear-gradient(135deg,var(--primary),var(--accent));display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:900;color:#fff}
    footer p{color:var(--text3);font-size:13px}
    footer a{color:var(--primary2);transition:color .2s}
    footer a:hover{text-decoration:underline;color:var(--accent2)}

    /* SCROLL REVEAL */
    .reveal{opacity:0;transform:translateY(30px);transition:all .7s cubic-bezier(.16,1,.3,1)}
    .reveal.visible{opacity:1;transform:translateY(0)}
    .reveal-delay-1{transition-delay:.1s}
    .reveal-delay-2{transition-delay:.2s}
    .reveal-delay-3{transition-delay:.3s}

    /* SCROLLBAR */
    ::-webkit-scrollbar{width:6px;height:6px}
    ::-webkit-scrollbar-track{background:var(--bg)}
    ::-webkit-scrollbar-thumb{background:var(--border2);border-radius:3px}
    ::-webkit-scrollbar-thumb:hover{background:var(--text3)}

    .spinner{width:18px;height:18px;border:2px solid rgba(255,255,255,.2);border-top-color:#fff;border-radius:50%;animation:spin .6s linear infinite;display:inline-block;vertical-align:middle}
    .spinner-sm{width:14px;height:14px}
    @keyframes spin{to{transform:rotate(360deg)}}

    .back-to-top{position:fixed;bottom:24px;right:24px;z-index:900;width:44px;height:44px;border-radius:12px;background:var(--primary);color:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 20px var(--primary-glow);opacity:0;visibility:hidden;transition:all .3s;transform:translateY(10px)}
    .back-to-top.visible{opacity:1;visibility:visible;transform:translateY(0)}
    .back-to-top:hover{transform:translateY(-2px);box-shadow:0 8px 30px var(--primary-glow)}

    /* Battery */
    .battery-icon{display:flex;align-items:center;gap:2px}
    .battery-body{width:20px;height:10px;border:1.5px solid currentColor;border-radius:2px;position:relative;display:flex;align-items:center;padding:1px}
    .battery-tip{width:2px;height:5px;background:currentColor;border-radius:0 1px 1px 0}
    .battery-fill{height:100%;border-radius:1px;transition:width .3s}

    @media(max-width:640px){
      .hero{padding:60px 0 30px}
      .hero-stats{gap:16px}
      .stat-num{font-size:1.8rem}
      .stat+.stat::before{display:none}
      .endpoint-header{padding:14px 16px}
      .endpoint-body-inner{padding:0 16px 16px}
      .try-row{flex-direction:column}
      .code-tabs{overflow-x:auto;flex-wrap:nowrap;-webkit-overflow-scrolling:touch}
      .code-tab{flex-shrink:0}
      section{padding:60px 0}
      .features-grid{gap:12px}
    }
  </style>
</head>
<body>

<!-- LOADING SCREEN -->
<div id="loadingScreen">
  <div class="loader-logo">T</div>
  <div class="loader-text">TOXIC-APIS</div>
  <div class="loader-terminal" id="loaderTerminal">Initializing...</div>
  <div class="loader-progress-wrap">
    <div class="loader-bar"><div class="loader-bar-fill" id="loaderBarFill"></div></div>
    <div class="loader-percent" id="loaderPercent">0%</div>
  </div>
</div>

<!-- NOTIFICATIONS -->
<div id="notifContainer"></div>

<!-- TOP BAR -->
<div class="top-bar" id="topBar">
  <div class="top-bar-inner">
    <div class="top-bar-left">
      <a href="#home" class="top-bar-logo">
        <span class="logo-icon">T</span>
        <span>Toxic-APIs</span>
      </a>
      <div class="top-bar-stats">
        <div class="top-bar-stat">
          <span class="stat-icon"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></span>
          <span class="stat-val accent" id="topVisitors">0</span>
        </div>
        <div class="top-bar-stat">
          <span class="stat-icon"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg></span>
          <span class="stat-val primary">49</span>
        </div>
        <div class="top-bar-stat" id="batteryContainer">
          <span class="battery-icon" id="batteryIcon">
            <span class="battery-body"><span class="battery-fill" id="batteryFill" style="width:100%;background:var(--green)"></span></span>
            <span class="battery-tip"></span>
          </span>
          <span class="stat-val green" id="batteryPercent">--</span>
        </div>
        <div class="top-bar-stat" id="clockStat">
          <span class="stat-icon"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></span>
          <span class="stat-val" id="topClock">--:--</span>
        </div>
      </div>
    </div>
    <div class="top-bar-right">
      <a href="#docs" class="top-bar-btn primary">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        <span>Visit Docs</span>
      </a>
    </div>
  </div>
</div>

<!-- FLOATING CATEGORY NAV -->
<nav class="cat-nav" id="catNav">
  <div class="cat-nav-inner" id="catNavInner"></div>
</nav>

<!-- BACK TO TOP -->
<button class="back-to-top" id="backToTop" aria-label="Back to top">
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="18 15 12 9 6 15"/></svg>
</button>

<!-- HERO -->
<section class="hero" id="home">
  <div class="particles" id="particles"></div>
  <div class="glow-orb" style="width:500px;height:500px;background:rgba(99,102,241,.06);top:10%;left:5%"></div>
  <div class="glow-orb" style="width:400px;height:400px;background:rgba(6,182,212,.04);bottom:10%;right:5%;animation-delay:3s"></div>

  <div class="hero-content">
    <div class="hero-badge">
      <span class="dot"></span>
      All Systems Operational
      <svg class="sparkle" width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0L14.59 8.41L23 12L14.59 15.59L12 24L9.41 15.59L1 12L9.41 8.41Z"/></svg>
    </div>
    <h1>The Ultimate<br><span class="gradient-text">REST API Service</span></h1>
    <p>49 powerful endpoints for AI chat, media downloading, anime scraping, gaming tools, sports scores, and more. <strong>Free, fast, no API key required.</strong></p>
    <div class="hero-stats">
      <div class="stat"><div class="stat-num" data-count="49">0</div><div class="stat-label">Endpoints</div></div>
      <div class="stat"><div class="stat-num" data-count="7">0</div><div class="stat-label">Categories</div></div>
      <div class="stat"><div class="stat-num" data-count="100">0</div><div class="stat-label">% Free</div></div>
      <div class="stat"><div class="stat-num" id="visitorCount" data-count="0">0</div><div class="stat-label">Total Visits</div></div>
    </div>
    <div class="hero-btns">
      <a href="#docs" class="btn btn-primary">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        Explore Docs
      </a>
      <a href="#status" class="btn btn-outline">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        View Status
      </a>
    </div>
  </div>
</section>

<!-- FEATURES -->
<section id="features" style="background:var(--bg2)">
  <div class="container">
    <div class="section-header reveal">
      <div class="section-badge">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0L14.59 8.41L23 12L14.59 15.59L12 24L9.41 15.59L1 12L9.41 8.41Z"/></svg>
        Features
      </div>
      <h2>Why <span class="gradient-text">Toxic-APIs</span>?</h2>
      <p>Everything you need to build powerful applications</p>
    </div>
    <div class="features-grid" id="featuresGrid"></div>
  </div>
</section>

<!-- DOCS -->
<section id="docs">
  <div class="container">
    <div class="section-header reveal">
      <div class="section-badge">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
        Documentation
      </div>
      <h2>API <span class="gradient-text">Documentation</span></h2>
      <p>Browse, test, and integrate all 49 endpoints</p>
    </div>

    <div class="base-url-bar reveal">
      <label>Base URL</label>
      <code id="baseUrlDisplay">https://toxic-apis.replit.app</code>
      <button class="copy-btn" onclick="copyText('https://toxic-apis.replit.app',this)">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy
      </button>
    </div>

    <div class="search-bar reveal">
      <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      <input type="text" id="searchInput" placeholder="Search endpoints..." oninput="handleSearch(this.value)">
    </div>

    <div class="cat-tabs reveal" id="catTabs"></div>
    <div id="endpointsContainer"></div>

    <div class="quickstart reveal" style="margin-top:40px">
      <h3>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--primary2)" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
        Quick Start
      </h3>
      <div class="code-tabs">
        <div class="code-tab active" onclick="showQuickCode('js',this)">JavaScript</div>
        <div class="code-tab" onclick="showQuickCode('py',this)">Python</div>
        <div class="code-tab" onclick="showQuickCode('curl',this)">cURL</div>
      </div>
      <div class="code-block">
        <code id="quickCode"></code>
        <button class="copy-btn code-copy" onclick="copyQuickCode(this)">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
          Copy
        </button>
      </div>
    </div>
  </div>
</section>

<!-- STATUS -->
<section id="status" style="background:var(--bg2)">
  <div class="container">
    <div class="section-header reveal">
      <div class="section-badge">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        Monitoring
      </div>
      <h2>API <span class="gradient-text">Status</span></h2>
      <p>Real-time endpoint health monitoring</p>
    </div>

    <div class="status-overview reveal" id="statusOverview"></div>

    <div style="text-align:center;margin-bottom:28px" class="reveal">
      <button class="btn btn-primary" id="checkStatusBtn" onclick="checkAllStatus()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
        Check All Endpoints
      </button>
    </div>
    <div class="status-grid reveal" id="statusGrid"></div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="container">
    <div class="footer-inner">
      <div class="footer-logo">
        <span class="logo-icon">T</span>
        Toxic-APIs
      </div>
      <p>49 Free REST API Endpoints &mdash; No API Key Required</p>
      <p>Built by <a href="https://github.com/xhclintohn" target="_blank" rel="noopener">xhclinton</a> &mdash; <a href="https://github.com/xhclintohn/P" target="_blank" rel="noopener">GitHub</a></p>
    </div>
  </div>
</footer>

<script>
// ===== CONFIGURATION =====
const isLocal = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
const isReplit = location.hostname.includes('.replit');
const BACKEND = (isLocal || isReplit) ? '' : 'https://toxic-apis.replit.app';
const SITE_URL = 'https://xhclinton.com/apis';

// ===== CATEGORIES DATA =====
const categories = [
  {
    name:"AI", icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a4 4 0 0 1 4 4v1a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2 4 4 0 0 1-4 4 4 4 0 0 1-4-4 2 2 0 0 1-2-2V9a2 2 0 0 1 2-2V6a4 4 0 0 1 4-4z"/><line x1="9" y1="18" x2="9" y2="22"/><line x1="15" y1="18" x2="15" y2="22"/></svg>', color:"#6366f1",
    endpoints:[
      {name:"Claude AI",desc:"Chat with Claude AI model",method:"GET",path:"/ai/claude",params:[{key:"text",example:"Hello"}]},
      {name:"Gemini AI",desc:"Google Gemini AI chat with multi-model support",method:"GET",path:"/ai/gemini",params:[{key:"text",example:"Hello"},{key:"model",example:"gemini-2-5-flash"}]},
      {name:"NoteGPT",desc:"GPT-4.1 Mini powered AI chat",method:"GET",path:"/ai/notegpt",params:[{key:"text",example:"Hello"}]},
      {name:"AI Image Gen",desc:"Generate photorealistic images from text prompts",method:"GET",path:"/ai/imagine",params:[{key:"prompt",example:"beautiful sunset"},{key:"style",example:"photorealistic"}]},
      {name:"WormGPT",desc:"WormGPT unrestricted AI image generation",method:"GET",path:"/ai/wormgpt",params:[{key:"prompt",example:"futuristic city"},{key:"style",example:"digital-art"}]},
      {name:"Vider AI Art",desc:"Create AI artwork with Vider engine",method:"GET",path:"/ai/vider",params:[{key:"prompt",example:"a cat"}]},
      {name:"AI Image Editor",desc:"AI-powered image editing with text prompts",method:"GET",path:"/ai/editimg",params:[{key:"url",example:"https://example.com/image.jpg"},{key:"prompt",example:"remove background"}]}
    ]
  },
  {
    name:"Downloaders", icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>', color:"#06b6d4",
    endpoints:[
      {name:"Facebook Video",desc:"Download Facebook videos in HD/SD",method:"GET",path:"/download/facebook",params:[{key:"url",example:"https://facebook.com/video/123"}]},
      {name:"Instagram",desc:"Download Instagram reels, posts & stories",method:"GET",path:"/download/instagram",params:[{key:"url",example:"https://instagram.com/p/xyz"}]},
      {name:"Twitter/X dlv1",desc:"Download videos from Twitter/X",method:"GET",path:"/download/x",params:[{key:"url",example:"https://x.com/user/status/123"}]},
      {name:"Twitter/X dlv2",desc:"Alternative Twitter/X video downloader",method:"GET",path:"/download/xv2",params:[{key:"url",example:"https://x.com/user/status/123"}]},
      {name:"Douyin Video",desc:"Download Douyin videos without watermark",method:"GET",path:"/download/douyin",params:[{key:"url",example:"https://douyin.com/video/123"}]},
      {name:"YouTube dlv1",desc:"Download YouTube videos in multiple formats",method:"GET",path:"/download/youtube",params:[{key:"url",example:"https://youtube.com/watch?v=dQw4w9WgXcQ"},{key:"mode",example:"video"}]},
      {name:"YouTube dlv2",desc:"Alternative YouTube downloader",method:"GET",path:"/download/youtube2",params:[{key:"url",example:"https://youtube.com/watch?v=dQw4w9WgXcQ"}]},
      {name:"YouTube dlv3",desc:"YouTube downloader via ytdown.to",method:"GET",path:"/download/youtubev3",params:[{key:"url",example:"https://youtube.com/watch?v=dQw4w9WgXcQ"},{key:"type",example:"video"}]},
      {name:"YouTube dlv4",desc:"SaveTube YouTube downloader with decryption",method:"GET",path:"/download/youtubev4",params:[{key:"url",example:"https://youtube.com/watch?v=dQw4w9WgXcQ"},{key:"format",example:"mp3"}]},
      {name:"YouTube MP3",desc:"YouTube to MP3 converter v1",method:"GET",path:"/download/ytmp3",params:[{key:"url",example:"https://youtube.com/watch?v=dQw4w9WgXcQ"},{key:"bitrate",example:"320"}]},
      {name:"YouTube MP3 v2",desc:"YouTube to MP3 converter v2",method:"GET",path:"/download/ytmp3v2",params:[{key:"url",example:"https://youtube.com/watch?v=dQw4w9WgXcQ"}]},
      {name:"MediaFire",desc:"Get direct download links from MediaFire",method:"GET",path:"/download/mediafire",params:[{key:"url",example:"https://mediafire.com/file/xyz"}]},
      {name:"TeraBox",desc:"Download from TeraBox cloud storage",method:"GET",path:"/download/terabox",params:[{key:"url",example:"https://terabox.com/s/1xyz"}]},
      {name:"Downr Universal",desc:"Universal video downloader for multiple platforms",method:"GET",path:"/download/downr",params:[{key:"url",example:"https://youtube.com/watch?v=dQw4w9WgXcQ"}]}
    ]
  },
  {
    name:"Anime & Manga", icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="2.18"/><line x1="7" y1="2" x2="7" y2="22"/><line x1="17" y1="2" x2="17" y2="22"/><line x1="2" y1="12" x2="22" y2="12"/></svg>', color:"#ec4899",
    endpoints:[
      {name:"Doronime",desc:"Search and stream anime with episode listings",method:"GET",path:"/anime/doronime",params:[{key:"q",example:"Naruto"}]},
      {name:"OtakDesu",desc:"Browse anime on OtakDesu with detailed info",method:"GET",path:"/anime/otakdesu",params:[{key:"q",example:"One Piece"}]},
      {name:"Donghua Film",desc:"Search Chinese animated films (Donghua)",method:"GET",path:"/anime/donghua",params:[{key:"q",example:"Soul Land"}]},
      {name:"Nanobana AI",desc:"AI anime image generation via Nanobana",method:"POST",path:"/anime/nanobana",params:[]},
      {name:"KomikCast",desc:"Search manga on KomikCast with chapters",method:"GET",path:"/manga/komikcast",params:[{key:"q",example:"Solo Leveling"}]},
      {name:"KomikIndo",desc:"Browse manga & manhwa on KomikIndo",method:"GET",path:"/manga/komikindo",params:[{key:"q",example:"Demon Slayer"}]},
      {name:"OppaDrama",desc:"Search Korean dramas with episodes",method:"GET",path:"/drama/oppadrama",params:[{key:"q",example:"Goblin"}]},
      {name:"DramaBox",desc:"Browse short-form drama series",method:"GET",path:"/drama/dramabox",params:[{key:"q",example:"Romance"}]}
    ]
  },
  {
    name:"Gaming", icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="6" y1="12" x2="10" y2="12"/><line x1="8" y1="10" x2="8" y2="14"/><line x1="15" y1="13" x2="15.01" y2="13"/><line x1="18" y1="11" x2="18.01" y2="11"/><path d="M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z"/></svg>', color:"#eab308",
    endpoints:[
      {name:"Enka Network",desc:"Genshin Impact player profiles & builds",method:"GET",path:"/game/enka",params:[{key:"uid",example:"800103030"}]},
      {name:"Free Fire Characters",desc:"Get Free Fire character stats & abilities",method:"GET",path:"/game/ff-character",params:[]},
      {name:"Character Guide",desc:"Game character guides with tips & builds",method:"GET",path:"/game/character-guide",params:[{key:"name",example:"Raiden Shogun"}]}
    ]
  },
  {
    name:"Search", icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>', color:"#22c55e",
    endpoints:[
      {name:"Song Finder",desc:"Search songs with metadata & album art",method:"GET",path:"/search/song",params:[{key:"q",example:"Bohemian Rhapsody"}]},
      {name:"F-Droid Apps",desc:"Search open-source Android apps",method:"GET",path:"/search/fdroid",params:[{key:"q",example:"browser"}]},
      {name:"Meme Templates",desc:"Search popular meme templates",method:"GET",path:"/search/meme",params:[{key:"q",example:"drake"}]},
      {name:"Sound Effects",desc:"Browse instant sound effects",method:"GET",path:"/search/sounds",params:[]},
      {name:"Spotify Search",desc:"Search Spotify songs without API key",method:"GET",path:"/search/spotify",params:[{key:"q",example:"Bohemian Rhapsody"}]}
    ]
  },
  {
    name:"Tools", icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>', color:"#a855f7",
    endpoints:[
      {name:"Image Upscaler",desc:"AI-powered image upscaling",method:"GET",path:"/tools/upscale",params:[{key:"code",example:"abc123"}]},
      {name:"YouTube Transcript",desc:"Extract YouTube video transcripts",method:"GET",path:"/tools/transcript",params:[{key:"url",example:"https://youtube.com/watch?v=dQw4w9WgXcQ"}]},
      {name:"Currency Converter",desc:"Real-time currency conversion",method:"GET",path:"/tools/currency",params:[{key:"from",example:"USD"},{key:"to",example:"EUR"},{key:"amount",example:"100"}]},
      {name:"Korean Name Generator",desc:"Generate authentic Korean names",method:"GET",path:"/tools/korean-name",params:[{key:"name",example:"Alex"}]},
      {name:"Random ASCII Art",desc:"Generate random ASCII character strings",method:"GET",path:"/tools/ascii",params:[{key:"length",example:"10"}]},
      {name:"Temp Mail",desc:"Generate temporary email addresses & read inbox",method:"GET",path:"/tools/tempmail",params:[{key:"action",example:"generate"},{key:"count",example:"1"}]}
    ]
  },
  {
    name:"Sports", icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>', color:"#f97316",
    endpoints:[
      {name:"Football Scores",desc:"Live football/soccer scores worldwide",method:"GET",path:"/sports/football",params:[]},
      {name:"Football Standings",desc:"Football league standings & tables",method:"GET",path:"/sports/football-standings",params:[{key:"league",example:"epl"}]},
      {name:"NBA Scores",desc:"NBA basketball scores by date",method:"GET",path:"/sports/nba",params:[{key:"date",example:"20260207"}]},
      {name:"Cricket Scores",desc:"Live cricket scores & match info",method:"GET",path:"/sports/cricket",params:[]}
    ]
  }
];

// ===== STATE =====
let activeCategory = 'all';
let searchQuery = '';
let statusResults = {};

// ===== NOTIFICATION SYSTEM =====
function showNotif(type, title, msg, duration = 4000) {
  const container = document.getElementById('notifContainer');
  const notif = document.createElement('div');
  notif.className = 'notif';
  const icons = {
    success: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>',
    info: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',
    warning: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
    error: '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>'
  };
  notif.innerHTML = `
    <div class="notif-icon ${type}">${icons[type]}</div>
    <div class="notif-body">
      <div class="notif-title">${title}</div>
      <div class="notif-msg">${msg}</div>
    </div>
    <button class="notif-close" onclick="dismissNotif(this)">&times;</button>
    <div class="notif-progress" style="animation-duration:${duration}ms"></div>
  `;
  container.appendChild(notif);
  setTimeout(() => dismissNotif(notif.querySelector('.notif-close')), duration);
}

function dismissNotif(btn) {
  const notif = btn.closest('.notif');
  if (!notif || notif.classList.contains('removing')) return;
  notif.classList.add('removing');
  setTimeout(() => notif.remove(), 300);
}

// ===== LOADING SCREEN =====
(function initLoader() {
  const messages = [
    'Connecting to server...',
    'Loading API endpoints...',
    'Initializing scrapers...',
    'Checking system status...',
    'Loading documentation...',
    'Configuring CORS headers...',
    'Preparing interactive tools...',
    'Finalizing environment...',
    'Almost ready...',
    'Welcome to Toxic-APIs!'
  ];
  let progress = 0;
  let msgIndex = 0;
  const fill = document.getElementById('loaderBarFill');
  const pct = document.getElementById('loaderPercent');
  const terminal = document.getElementById('loaderTerminal');

  const interval = setInterval(() => {
    progress += Math.random() * 12 + 3;
    if (progress > 100) progress = 100;
    fill.style.width = progress + '%';
    pct.textContent = Math.round(progress) + '%';

    if (msgIndex < messages.length - 1 && progress > (msgIndex + 1) * 10) {
      msgIndex++;
      terminal.textContent = '> ' + messages[msgIndex];
    }

    if (progress >= 100) {
      clearInterval(interval);
      terminal.textContent = '> ' + messages[messages.length - 1];
      setTimeout(() => {
        document.getElementById('loadingScreen').classList.add('hidden');
        setTimeout(() => {
          animateCounters();
          showNotif('success', 'Welcome to Toxic-APIs', '49 free API endpoints ready to use. No API key required!');
        }, 400);
      }, 500);
    }
  }, 200);
})();

// ===== PARTICLES =====
function createParticles() {
  const container = document.getElementById('particles');
  for (let i = 0; i < 35; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    const colors = ['var(--primary)', 'var(--accent)', 'var(--purple)', 'var(--pink)'];
    p.style.background = colors[Math.floor(Math.random() * colors.length)];
    p.style.left = Math.random() * 100 + '%';
    p.style.animationDuration = (10 + Math.random() * 15) + 's';
    p.style.animationDelay = Math.random() * 12 + 's';
    const size = 2 + Math.random() * 4;
    p.style.width = size + 'px';
    p.style.height = size + 'px';
    container.appendChild(p);
  }
}
createParticles();

// ===== BATTERY STATUS =====
(async function initBattery() {
  try {
    if ('getBattery' in navigator) {
      const battery = await navigator.getBattery();
      function updateBattery() {
        const level = Math.round(battery.level * 100);
        const charging = battery.charging;
        document.getElementById('batteryPercent').textContent = level + '%' + (charging ? '+' : '');
        const fill = document.getElementById('batteryFill');
        fill.style.width = level + '%';
        fill.style.background = level > 50 ? 'var(--green)' : level > 20 ? 'var(--yellow)' : 'var(--red)';
        document.getElementById('batteryPercent').className = 'stat-val ' + (level > 50 ? 'green' : level > 20 ? 'yellow' : 'red');
      }
      updateBattery();
      battery.addEventListener('levelchange', updateBattery);
      battery.addEventListener('chargingchange', updateBattery);
    } else {
      document.getElementById('batteryContainer').style.display = 'none';
    }
  } catch {
    document.getElementById('batteryContainer').style.display = 'none';
  }
})();

// ===== CLOCK =====
function updateClock() {
  const now = new Date();
  const h = String(now.getHours()).padStart(2, '0');
  const m = String(now.getMinutes()).padStart(2, '0');
  document.getElementById('topClock').textContent = h + ':' + m;
}
updateClock();
setInterval(updateClock, 30000);

// ===== VISITOR COUNTER =====
(async function fetchVisitors() {
  try {
    const res = await fetch(BACKEND + '/api/visitors/stats');
    const data = await res.json();
    const count = data.totalVisits || data.total || data.count || 0;
    const el = document.getElementById('visitorCount');
    if (el && count > 0) el.setAttribute('data-count', count);
    const topEl = document.getElementById('topVisitors');
    if (topEl) topEl.textContent = count.toLocaleString();
  } catch (e) {}
})();

// ===== COUNTER ANIMATION =====
function animateCounters() {
  document.querySelectorAll('[data-count]').forEach(el => {
    const target = parseInt(el.dataset.count);
    if (target === 0) { el.textContent = '0'; return; }
    const duration = 1500;
    const start = performance.now();
    function step(now) {
      const elapsed = now - start;
      const progress = Math.min(elapsed / duration, 1);
      const eased = 1 - Math.pow(1 - progress, 3);
      el.textContent = Math.round(target * eased).toLocaleString();
      if (progress < 1) requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  });
}

// ===== SCROLL REVEAL =====
const revealObserver = new IntersectionObserver((entries) => {
  entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); } });
}, { threshold: 0.08, rootMargin: '0px 0px -40px 0px' });
function observeReveals() {
  document.querySelectorAll('.reveal:not(.visible)').forEach(el => revealObserver.observe(el));
}

// ===== FLOATING CATEGORY NAV =====
function renderCatNav() {
  const total = categories.reduce((a, c) => a + c.endpoints.length, 0);
  let html = `<div class="cat-nav-item ${activeCategory === 'all' ? 'active' : ''}" onclick="setCategoryFromNav('all',this)">All <span class="cat-count">${total}</span></div>`;
  categories.forEach(cat => {
    html += `<div class="cat-nav-item ${activeCategory === cat.name ? 'active' : ''}" onclick="setCategoryFromNav('${cat.name}',this)">${cat.icon} ${cat.name} <span class="cat-count">${cat.endpoints.length}</span></div>`;
  });
  document.getElementById('catNavInner').innerHTML = html;
}

function setCategoryFromNav(cat, el) {
  activeCategory = cat;
  document.querySelectorAll('.cat-nav-item').forEach(t => t.classList.remove('active'));
  if (el) el.classList.add('active');
  renderCategoryTabs();
  renderEndpoints();
  const docsSection = document.getElementById('docs');
  if (docsSection) {
    const y = docsSection.getBoundingClientRect().top + window.scrollY - 100;
    window.scrollTo({ top: y, behavior: 'smooth' });
  }
}

// ===== NAV SCROLL BEHAVIOR =====
const backToTop = document.getElementById('backToTop');
const catNav = document.getElementById('catNav');

window.addEventListener('scroll', () => {
  const scrollY = window.scrollY;
  backToTop.classList.toggle('visible', scrollY > 600);

  const docsSection = document.getElementById('docs');
  const statusSection = document.getElementById('status');
  if (docsSection && statusSection) {
    const docsTop = docsSection.getBoundingClientRect().top;
    const statusTop = statusSection.getBoundingClientRect().top;
    const showCatNav = docsTop <= 60 && statusTop > 200;
    catNav.classList.toggle('visible', showCatNav);
  }
});

backToTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

// ===== FEATURES =====
function renderFeatures() {
  const features = [
    { icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>', title: 'Lightning Fast', desc: 'Optimized scrapers deliver responses in milliseconds with efficient processing.', bg: 'rgba(99,102,241,.12)', color: 'var(--primary2)' },
    { icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>', title: 'No API Key Required', desc: 'Start making requests immediately. No registration, no authentication needed.', bg: 'rgba(6,182,212,.12)', color: 'var(--accent2)' },
    { icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>', title: 'Developer Friendly', desc: 'Clean JSON responses, comprehensive docs, and code examples in multiple languages.', bg: 'rgba(34,197,94,.12)', color: 'var(--green)' },
    { icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>', title: 'CORS Enabled', desc: 'Full CORS support - call endpoints from any frontend application or website.', bg: 'rgba(168,85,247,.12)', color: 'var(--purple)' },
    { icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>', title: '7 Categories', desc: 'AI, downloaders, anime/manga, gaming, search, tools, and sports - all in one place.', bg: 'rgba(236,72,153,.12)', color: 'var(--pink)' },
    { icon: '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>', title: 'Reliable & Stable', desc: '99.9% uptime with automatic health monitoring and real-time status tracking.', bg: 'rgba(234,179,8,.12)', color: 'var(--yellow)' }
  ];
  const grid = document.getElementById('featuresGrid');
  grid.innerHTML = features.map((f, i) => `
    <div class="feature-card reveal reveal-delay-${(i % 3) + 1}">
      <div class="feature-icon" style="background:${f.bg};color:${f.color}">${f.icon}</div>
      <h3>${f.title}</h3>
      <p>${f.desc}</p>
    </div>
  `).join('');
}

// ===== CATEGORY TABS =====
function renderCategoryTabs() {
  const total = categories.reduce((a, c) => a + c.endpoints.length, 0);
  let html = `<button class="cat-tab ${activeCategory === 'all' ? 'active' : ''}" onclick="setCategory('all',this)">All <span class="count">${total}</span></button>`;
  categories.forEach(cat => {
    html += `<button class="cat-tab ${activeCategory === cat.name ? 'active' : ''}" onclick="setCategory('${cat.name}',this)">${cat.icon} ${cat.name} <span class="count">${cat.endpoints.length}</span></button>`;
  });
  document.getElementById('catTabs').innerHTML = html;
}

function setCategory(cat, btn) {
  activeCategory = cat;
  document.querySelectorAll('.cat-tab').forEach(t => t.classList.remove('active'));
  if (btn) btn.classList.add('active');
  renderEndpoints();
  renderCatNav();
}

function handleSearch(q) {
  searchQuery = q.toLowerCase().trim();
  renderEndpoints();
}

// ===== RENDER ENDPOINTS =====
function renderEndpoints() {
  const container = document.getElementById('endpointsContainer');
  let html = '';
  let filteredCats = categories;

  if (activeCategory !== 'all') {
    filteredCats = categories.filter(c => c.name === activeCategory);
  }

  let hasResults = false;

  filteredCats.forEach(cat => {
    let eps = cat.endpoints;
    if (searchQuery) {
      eps = eps.filter(ep =>
        ep.name.toLowerCase().includes(searchQuery) ||
        ep.desc.toLowerCase().includes(searchQuery) ||
        ep.path.toLowerCase().includes(searchQuery)
      );
    }
    if (!eps.length) return;
    hasResults = true;

    html += `<div style="margin-bottom:8px;margin-top:24px;display:flex;align-items:center;gap:8px;color:${cat.color}">
      ${cat.icon}
      <span style="font-size:14px;font-weight:700;letter-spacing:.5px">${cat.name}</span>
      <span style="font-size:12px;color:var(--text3)">(${eps.length})</span>
    </div>`;
    html += '<div class="endpoints-grid">';

    eps.forEach(ep => {
      const eid = ep.path.replace(/\//g, '_');
      const statusInfo = statusResults[ep.path];
      const statusClass = statusInfo ? (statusInfo.ok ? 'online' : 'offline') : '';
      const paramsJson = JSON.stringify(ep.params).replace(/'/g, "\\'");

      html += `<div class="endpoint-card" id="card${eid}">
        <div class="endpoint-header" onclick="toggleEndpoint('${eid}')">
          <div class="endpoint-left">
            <span class="method-badge method-${ep.method}">${ep.method}</span>
            <div class="endpoint-info">
              <h3>${ep.name}</h3>
              <p>${ep.path}</p>
            </div>
          </div>
          <div class="endpoint-status">
            <span class="status-dot ${statusClass}"></span>
            <svg class="expand-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </div>
        </div>
        <div class="endpoint-body">
          <div class="endpoint-body-inner">
            <p style="font-size:14px;color:var(--text2);margin-top:16px;margin-bottom:8px">${ep.desc}</p>
            <div style="font-size:13px;color:var(--text3);margin-bottom:4px"><strong>Method:</strong> <span style="color:${ep.method==='GET'?'var(--green)':'var(--orange)'}">${ep.method}</span></div>
            <div style="font-size:13px;color:var(--text3);margin-bottom:12px"><strong>Path:</strong> <code style="color:var(--accent2)">${ep.path}</code></div>`;

      if (ep.method === 'POST') {
        html += `<div class="post-notice">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
          This endpoint requires POST method. See code examples for programmatic usage.
        </div>`;
      } else {
        html += `<div class="try-section">
              <label>Try it out</label>`;

        if (ep.params.length > 0) {
          ep.params.forEach(p => {
            html += `<div class="try-row" style="margin-bottom:6px">
              <input class="try-input" id="input${eid}_${p.key}" value="${p.example}" placeholder="${p.key}">
            </div>`;
          });
        }

        html += `<div class="try-actions">
            <button class="try-btn" id="execBtn${eid}" onclick='executeEndpoint("${eid}","${ep.path}","${ep.method}",${paramsJson})'>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
              Execute
            </button>
            <button class="copy-btn" onclick="copyApiUrl('${eid}','${ep.path}',${paramsJson},this)">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
              Copy API URL
            </button>
          </div>`;

        html += `<div id="response${eid}" class="hidden"></div>`;
        html += `</div>`;
      }

      const exParams = ep.params.length ? '?' + ep.params.map(p => p.key + '=' + encodeURIComponent(p.example)).join('&') : '';

      html += `<div class="code-tabs">
        <div class="code-tab active" onclick="showCode('${eid}','js',this)">JavaScript</div>
        <div class="code-tab" onclick="showCode('${eid}','py',this)">Python</div>
        <div class="code-tab" onclick="showCode('${eid}','curl',this)">cURL</div>
      </div>
      <div class="code-block">
        <code id="codeBlock${eid}">${generateCodeExample(ep, 'js')}</code>
        <button class="copy-btn code-copy" onclick="copyCodeBlock('${eid}',this)">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
          Copy
        </button>
      </div>`;

      html += `</div></div></div>`;
    });

    html += '</div>';
  });

  if (!hasResults) {
    html = `<div style="text-align:center;padding:60px 20px;color:var(--text3)">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="margin-bottom:16px;opacity:.5"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      <p style="font-size:16px;font-weight:600;margin-bottom:4px">No endpoints found</p>
      <p style="font-size:14px">Try a different search term or category</p>
    </div>`;
  }

  container.innerHTML = html;
  observeReveals();
}

function generateCodeExample(ep, lang) {
  const exParams = ep.params.length ? '?' + ep.params.map(p => p.key + '=' + encodeURIComponent(p.example)).join('&') : '';
  const url = SITE_URL + ep.path + exParams;

  if (lang === 'js') {
    if (ep.method === 'POST') {
      return `const response = await fetch("${SITE_URL}${ep.path}", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ /* your data */ })
});
const data = await response.json();
console.log(data);
// Response: { creator: "xhclinton", status: true, ... }`;
    }
    return `const response = await fetch("${url}");
const data = await response.json();
console.log(data);
// Response: { creator: "xhclinton", status: true, ... }`;
  }

  if (lang === 'py') {
    if (ep.method === 'POST') {
      return `import requests

res = requests.post("${SITE_URL}${ep.path}",
    json={})
print(res.json())
# Response: { "creator": "xhclinton", "status": True, ... }`;
    }
    const pyParams = ep.params.length ? ep.params.map(p => `"${p.key}": "${p.example}"`).join(', ') : '';
    return `import requests

res = requests.get("${SITE_URL}${ep.path}"${pyParams ? `,\n    params={${pyParams}}` : ''})
print(res.json())
# Response: { "creator": "xhclinton", "status": True, ... }`;
  }

  if (lang === 'curl') {
    if (ep.method === 'POST') {
      return `curl -X POST "${SITE_URL}${ep.path}" \\
  -H "Content-Type: application/json" \\
  -d '{}'
# Response: { "creator": "xhclinton", "status": true, ... }`;
    }
    return `curl "${url}"
# Response: { "creator": "xhclinton", "status": true, ... }`;
  }
  return '';
}

function showCode(eid, lang, tab) {
  const card = categories.flatMap(c => c.endpoints).find(ep => ep.path.replace(/\//g, '_') === eid);
  if (!card) return;
  document.getElementById('codeBlock' + eid).textContent = generateCodeExample(card, lang);
  const tabs = tab.parentElement.querySelectorAll('.code-tab');
  tabs.forEach(t => t.classList.remove('active'));
  tab.classList.add('active');
}

function toggleEndpoint(eid) {
  const card = document.getElementById('card' + eid);
  card.classList.toggle('open');
}

// ===== EXECUTE ENDPOINT =====
async function executeEndpoint(eid, path, method, params) {
  const btn = document.getElementById('execBtn' + eid);
  const resContainer = document.getElementById('response' + eid);
  btn.disabled = true;
  btn.innerHTML = '<span class="spinner spinner-sm"></span> Loading...';

  let url = BACKEND + path;
  if (params && params.length > 0) {
    const queryParts = params.map(p => {
      const input = document.getElementById('input' + eid + '_' + p.key);
      const val = input ? input.value : p.example;
      return p.key + '=' + encodeURIComponent(val);
    });
    url += '?' + queryParts.join('&');
  }

  resContainer.classList.remove('hidden');
  resContainer.innerHTML = `<div class="response-area">
    <div class="response-header">
      <div class="response-status"><span class="dot loading"></span> Loading...</div>
    </div>
    <div class="response-body"><pre>Fetching data...</pre></div>
  </div>`;

  try {
    const start = Date.now();
    const res = await fetch(url, { signal: AbortSignal.timeout(30000) });
    const ms = Date.now() - start;
    const contentType = res.headers.get('content-type') || '';

    let bodyHtml = '';
    if (contentType.includes('image')) {
      bodyHtml = `<img src="${url}" alt="API Response Image">`;
    } else {
      const text = await res.text();
      let formatted = text;
      try { formatted = JSON.stringify(JSON.parse(text), null, 2); } catch {}
      bodyHtml = `<pre id="resBody_${eid}">${escapeHtml(formatted)}</pre>`;
    }

    resContainer.innerHTML = `<div class="response-area">
      <div class="response-header">
        <div class="response-status">
          <span class="dot ${res.ok ? 'success' : 'error'}"></span>
          ${res.status} ${res.statusText} &mdash; ${ms}ms
        </div>
        <button class="copy-btn" onclick="copyResponse('${eid}',this)">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
          Copy Response
        </button>
      </div>
      <div class="response-body">${bodyHtml}</div>
    </div>`;
  } catch (err) {
    resContainer.innerHTML = `<div class="response-area">
      <div class="response-header">
        <div class="response-status"><span class="dot error"></span> Error</div>
      </div>
      <div class="response-body"><pre id="resBody_${eid}" style="color:var(--red)">${escapeHtml(err.message || 'Request failed')}</pre></div>
    </div>`;
  }

  btn.disabled = false;
  btn.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg> Execute';
}

function escapeHtml(str) {
  return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}

// ===== STATUS =====
function renderStatusOverview() {
  const allEps = categories.flatMap(c => c.endpoints);
  const checked = Object.keys(statusResults).length;
  const online = Object.values(statusResults).filter(r => r.ok).length;
  const offline = checked - online;
  const avgMs = checked ? Math.round(Object.values(statusResults).reduce((a, r) => a + r.ms, 0) / checked) : 0;

  document.getElementById('statusOverview').innerHTML = `
    <div class="status-stat"><div class="num" style="color:var(--text)">${allEps.length}</div><div class="label">Total</div></div>
    <div class="status-stat"><div class="num" style="color:var(--green)">${online}</div><div class="label">Online</div></div>
    <div class="status-stat"><div class="num" style="color:var(--red)">${offline}</div><div class="label">Offline</div></div>
    <div class="status-stat"><div class="num" style="color:var(--accent2)">${avgMs}ms</div><div class="label">Avg Response</div></div>
  `;
}

function renderStatusGrid() {
  const allEps = categories.flatMap(c => c.endpoints);
  document.getElementById('statusGrid').innerHTML = allEps.map(ep => {
    const sid = 'status_' + ep.path.replace(/\//g, '_');
    const info = statusResults[ep.path];
    const dotClass = info ? (info.ok ? 'online' : 'offline') : '';
    const msText = info ? (info.ok ? info.ms + 'ms' : 'FAIL') : '--';
    const msColor = info ? (info.ok ? 'var(--green)' : 'var(--red)') : 'var(--text3)';
    return `<div class="status-card" id="${sid}">
      <div class="status-dot-lg ${dotClass}"></div>
      <div class="status-info">
        <h4>${ep.name}</h4>
        <p>${ep.path}</p>
      </div>
      <span class="status-ms" style="color:${msColor}">${msText}</span>
    </div>`;
  }).join('');
}

async function checkAllStatus() {
  const btn = document.getElementById('checkStatusBtn');
  btn.disabled = true;
  btn.innerHTML = '<span class="spinner spinner-sm"></span> Checking all endpoints...';
  showNotif('info', 'Status Check Started', 'Checking all 49 endpoints...');

  const allEndpoints = categories.flatMap(c => c.endpoints);
  let onlineCount = 0;

  for (const ep of allEndpoints) {
    const sid = 'status_' + ep.path.replace(/\//g, '_');
    const card = document.getElementById(sid);
    if (card) {
      card.querySelector('.status-dot-lg').className = 'status-dot-lg checking';
      card.querySelector('.status-ms').textContent = '...';
    }

    try {
      const url = BACKEND + ep.path + (ep.params.length ? '?' + ep.params.map(p => p.key + '=' + encodeURIComponent(p.example)).join('&') : '');
      const start = Date.now();
      const res = await fetch(url, { signal: AbortSignal.timeout(15000) });
      const ms = Date.now() - start;
      const contentType = res.headers.get('content-type') || '';
      const isJson = contentType.includes('json');
      let isReallyOk = res.ok;
      if (isJson) {
        try {
          const data = await res.json();
          isReallyOk = data.status === true;
        } catch { isReallyOk = res.ok; }
      }
      statusResults[ep.path] = { ok: isReallyOk, ms };
      if (isReallyOk) onlineCount++;
      if (card) {
        card.querySelector('.status-dot-lg').className = 'status-dot-lg ' + (isReallyOk ? 'online' : 'offline');
        card.querySelector('.status-ms').textContent = ms + 'ms';
        card.querySelector('.status-ms').style.color = isReallyOk ? 'var(--green)' : 'var(--red)';
      }
    } catch {
      statusResults[ep.path] = { ok: false, ms: 0 };
      if (card) {
        card.querySelector('.status-dot-lg').className = 'status-dot-lg offline';
        card.querySelector('.status-ms').textContent = 'FAIL';
        card.querySelector('.status-ms').style.color = 'var(--red)';
      }
    }
  }

  renderStatusOverview();
  renderEndpoints();

  btn.disabled = false;
  btn.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg> Check All Endpoints';

  showNotif(onlineCount === allEndpoints.length ? 'success' : 'warning',
    'Status Check Complete',
    `${onlineCount}/${allEndpoints.length} endpoints online`
  );
}

// ===== QUICK START CODE =====
const quickCodeExamples = {
  js: `// Chat with Gemini AI
const response = await fetch("${SITE_URL}/ai/gemini?text=Hello");
const data = await response.json();
console.log(data);
// { creator: "xhclinton", status: true, result: "..." }

// Download YouTube video info
const yt = await fetch("${SITE_URL}/download/youtube2?url=VIDEO_URL");
console.log(await yt.json());

// Live Football Scores
const scores = await fetch("${SITE_URL}/sports/football");
console.log(await scores.json());`,
  py: `import requests

# Chat with Gemini AI
res = requests.get("${SITE_URL}/ai/gemini", params={"text": "Hello"})
print(res.json())
# { "creator": "xhclinton", "status": True, ... }

# Currency conversion
currency = requests.get("${SITE_URL}/tools/currency",
    params={"amount": "100", "from": "USD", "to": "EUR"})
print(currency.json())

# NBA Scores
nba = requests.get("${SITE_URL}/sports/nba", params={"date": "20260207"})
print(nba.json())`,
  curl: `# AI Chat
curl "${SITE_URL}/ai/gemini?text=Hello"

# Song Search
curl "${SITE_URL}/search/song?q=Bohemian+Rhapsody"

# Football Standings
curl "${SITE_URL}/sports/football-standings?league=epl"

# Currency Converter
curl "${SITE_URL}/tools/currency?amount=100&from=USD&to=EUR"`
};

function showQuickCode(lang, tab) {
  document.getElementById('quickCode').textContent = quickCodeExamples[lang];
  tab.parentElement.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
  tab.classList.add('active');
}

function copyQuickCode(btn) {
  const text = document.getElementById('quickCode').textContent;
  navigator.clipboard.writeText(text);
  markCopied(btn);
  showNotif('success', 'Copied!', 'Quick start code copied to clipboard');
}

// ===== COPY HELPERS =====
function copyText(text, btn) {
  navigator.clipboard.writeText(text);
  markCopied(btn);
}

function copyResponse(id, btn) {
  const el = document.getElementById('resBody_' + id);
  if (el) {
    navigator.clipboard.writeText(el.textContent);
    markCopied(btn);
    showNotif('success', 'Copied!', 'API response copied to clipboard');
  }
}

function copyCodeBlock(id, btn) {
  const text = document.getElementById('codeBlock' + id).textContent;
  navigator.clipboard.writeText(text);
  markCopied(btn);
  showNotif('success', 'Copied!', 'Code example copied to clipboard');
}

function copyApiUrl(eid, path, params, btn) {
  let url = SITE_URL + path;
  if (params && params.length > 0) {
    const queryParts = params.map(p => {
      const input = document.getElementById('input' + eid + '_' + p.key);
      const val = input ? input.value : p.example;
      return p.key + '=' + encodeURIComponent(val);
    });
    url += '?' + queryParts.join('&');
  }
  navigator.clipboard.writeText(url);
  markCopied(btn);
  showNotif('success', 'Copied!', 'API URL copied to clipboard');
}

function markCopied(btn) {
  if (!btn) return;
  const original = btn.innerHTML;
  btn.innerHTML = '<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg> Copied!';
  btn.classList.add('copied');
  setTimeout(() => {
    btn.innerHTML = original;
    btn.classList.remove('copied');
  }, 1500);
}

// ===== INIT =====
renderFeatures();
renderCategoryTabs();
renderCatNav();
renderEndpoints();
renderStatusOverview();
renderStatusGrid();
showQuickCode('js', document.querySelector('.quickstart .code-tab'));
observeReveals();
</script>
</body>
</html>
